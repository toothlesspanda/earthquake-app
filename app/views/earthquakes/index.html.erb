<div class="container">
  <h1 class="mt-3 mb-5"> All Earthquakes from last 30 days</h1>
  <table class="table table-hover">
    <thead class="table-primary">
    <tr>
      <th>Title</th>
      <th>Coordinates(lat,long)</th>
      <th><%= sortable("magnitude", "Magnitude") %></th>
      <th><%= sortable("depth_km", "Depth(km)") %></th>
      <th>Tsunami</th>
      <th><%= sortable("occurred_at", "Occurred At") %> </th>
      <th></th>
    </tr>
    </thead>
    <tbody>
    <% @pagy_earthquakes.each do |eq| %>
      <tr>
        <td><%= eq.title %></td>
        <td><%= eq.coordinates&.latitude.to_s + " , " + eq.coordinates&.longitude.to_s %></td>
        <td><%= eq.magnitude&.round(2) %></td>
        <td><%= eq.depth_km&.round(2) %></td>
        <td><%= eq.tsunami ? "Yes" : "No" %></td>
        <td><%= l(eq.occurred_at, format: :short) %></td>
        <td> <%= link_to earthquake_path(id: eq.id, page: params[:page]) do %>
          <i class="bi bi-arrow-right"></i>
          <% end %>
        </td>
      </tr>
    <% end %>
    </tbody>
  </table>
  <div class="w-100 d-flex justify-content-end"> <span class="text-muted">Total of <%=@pagy.count %></span></div>
  <div class="d-flex justify-content-center">
    <%= pagy_bootstrap_nav(@pagy).html_safe %>
  </div>

</div>